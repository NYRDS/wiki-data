
<h1 class="sectionedit1" id="tiled">Tiled</h1>
<div class="level1">

<p>
(с плагином для экспорта карт для Remixed Pixel Dungeon)
</p>

<p>
Для упрощения процесса создания пользовательских карт для rpd, а так же для добавления нового функционала, в виде нестандартного набора тайлов, мы создали сборку open source редактора карт «Tiled», с поддержкой формата уровней rpd.
</p>

<p>
Теперь, чтобы создавать собственные карты для rpd, достаточно скачать нашу сборку: <a href="https://drive.google.com/file/d/1S1Dv-5SdTxiLbhdQVGf7AmtJcdJPcG9B/view?usp=sharing" class="urlextern" title="https://drive.google.com/file/d/1S1Dv-5SdTxiLbhdQVGf7AmtJcdJPcG9B/view?usp=sharing">Tiled_rpd</a>. И следовать инструкциям.
</p>

<p>
<strong>Внимание: Для работы приложения требуется операционная система Windows!</strong>
</p>

<p>
Пользователи Linux смогут без труда собрать его выкачав <a href="https://github.com/NYRDS/tiled" class="urlextern" title="https://github.com/NYRDS/tiled">исходный код</a>
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Tiled&quot;,&quot;hid&quot;:&quot;tiled&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-1097&quot;} -->
<h2 class="sectionedit2" id="подготовка_к_созданию_карты">Подготовка к созданию карты</h2>
<div class="level2">

<p>
Для того чтобы начать создание карты нужно запустить tiled.exe (внезапно) и создать новый проект:
</p>

<p>
<strong>Файл → New → New map</strong>
</p>

<p>
В настройках новой карты необходимо выставить опции:
</p>

<p>
<strong>Ориентация</strong>: Ортогональная
<strong>Порядок отображения тайлов</strong>: Слева сверху
</p>

<p>
<strong>Размер тайлов</strong>:
<strong>Ширина</strong>: 16 px
<strong>Высота</strong>: 16 px
</p>

<p>
<strong>Размер карты</strong>: по желанию
</p>

<p>
<img src="https://wiki.nyrds.net/lib/exe/fetch.php?media=ru:rpd:tiled_guide_new_map.png" class="media" loading="lazy" alt="" />
</p>

<p>
Сохраняем проект под желанным именем, и таким образом мы имеем готовую площадку для создания карты.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;\u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430 \u043a \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044e \u043a\u0430\u0440\u0442\u044b&quot;,&quot;hid&quot;:&quot;\u043f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430_\u043a_\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044e_\u043a\u0430\u0440\u0442\u044b&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;1098-1957&quot;} -->
<h3 class="sectionedit3" id="создание_карты">Создание карты</h3>
<div class="level3">

<p>
Для того чтобы создать карту, необходимо нарисовать её на логическом слое. Для этого нужно переименовать слой созданный по умолчанию (1.) или создать новый слой (2.) и назвать его «logic» (обязательно с маленькой буквы). 
</p>

<p>
<a href="https://wiki.nyrds.net/lib/exe/fetch.php?media=ru:rpd:tiled_guide_new_layer.png" class="media" title="ru:rpd:tiled_guide_new_layer.png"><img src="https://wiki.nyrds.net/lib/exe/fetch.php?w=200&amp;tok=96d54f&amp;media=ru:rpd:tiled_guide_new_layer.png" class="media" loading="lazy" alt="" width="200" /></a>
</p>

<p>
Далее необходимо загрузить желанный тайл сет из стандартных или созданный в формате стандартных (без отметки x). <a href="https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/assets/tiles0.png" class="urlextern" title="https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/assets/tiles0.png">Пример</a>. Важно по-прежнему ставить размеры тайлов 16х16, а также желательно поставить цвет прозрачности чёрный (Это некритично, но так будет удобнее, конечно если чёрный цвет используется на тайлах, он станет прозрачным в редакторе, но в игре это никак не отразится)
</p>

<p>
<a href="https://wiki.nyrds.net/lib/exe/fetch.php?media=ru:rpd:tiled_guide_new_tileset.png" class="media" title="ru:rpd:tiled_guide_new_tileset.png"><img src="https://wiki.nyrds.net/lib/exe/fetch.php?w=200&amp;tok=1215e0&amp;media=ru:rpd:tiled_guide_new_tileset.png" class="media" loading="lazy" alt="" width="200" /></a>
</p>

<p>
Сохраняем тайлсет под желаемым именем, после чего возвращаемся на вкладочку, где производится редактирование карты
</p>

<p>
<a href="https://wiki.nyrds.net/lib/exe/fetch.php?media=ru:rpd:tiled_guide_back_to_map.png" class="media" title="ru:rpd:tiled_guide_back_to_map.png"><img src="https://wiki.nyrds.net/lib/exe/fetch.php?w=200&amp;tok=51872e&amp;media=ru:rpd:tiled_guide_back_to_map.png" class="media" loading="lazy" alt="" width="200" /></a>
</p>

<p>
Далее рисуем карту. Для этого нам окажутся особо полезны следующие элементы:
</p>

<p>
1. <strong>Штамп</strong> - рисует на карте выбранный тайл или набор тайлов (если на палитре тайлов было выделено больше одного тайла)
</p>

<p>
2. <strong>Заливка</strong> - «заливает» выбранным тайлом выбранную зону карты
</p>

<p>
3. <strong>Выделение</strong> - позволяет выбрать группу тайлов на карте, например, чтобы удалить их все скопом
</p>

<p>
4. <strong>Вкладка «Наборы тайлов»</strong> - если эта вкладка не будет выбрана, то мы не увидим нашу палитру тайлов, которая находится в этом же углу
</p>

<p>
<a href="https://wiki.nyrds.net/lib/exe/fetch.php?media=ru:rpd:tiled_guide_legend.png" class="media" title="ru:rpd:tiled_guide_legend.png"><img src="https://wiki.nyrds.net/lib/exe/fetch.php?w=200&amp;tok=2e1f4d&amp;media=ru:rpd:tiled_guide_legend.png" class="media" loading="lazy" alt="" width="200" /></a>
</p>

<p>
После того как мы нарисовали карту, необходимо выбрать опцию экспортировать как
</p>

<p>
<a href="https://wiki.nyrds.net/lib/exe/fetch.php?media=ru:rpd:tiled_guide_export_as.png" class="media" title="ru:rpd:tiled_guide_export_as.png"><img src="https://wiki.nyrds.net/lib/exe/fetch.php?w=200&amp;tok=096c0b&amp;media=ru:rpd:tiled_guide_export_as.png" class="media" loading="lazy" alt="" width="200" /></a>
</p>

<p>
И в поле тип файла выбрать: <strong>Remixed Pixel Dungeon levels</strong>
</p>

<p>
<a href="https://wiki.nyrds.net/lib/exe/fetch.php?media=ru:rpd:tiled_guide_export_as_type.png" class="media" title="ru:rpd:tiled_guide_export_as_type.png"><img src="https://wiki.nyrds.net/lib/exe/fetch.php?w=200&amp;tok=79f650&amp;media=ru:rpd:tiled_guide_export_as_type.png" class="media" loading="lazy" alt="" width="200" /></a>
</p>

<p>
После чего получаем файл json, который используется, как и любая другая созданная вручную карта rpd.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u0430\u0440\u0442\u044b&quot;,&quot;hid&quot;:&quot;\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435_\u043a\u0430\u0440\u0442\u044b&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:3,&quot;range&quot;:&quot;1958-5000&quot;} -->
<h3 class="sectionedit4" id="добавление_уникальных_тайлов">Добавление уникальных тайлов</h3>
<div class="level3">

<p>
Также появилась новая возможность: создать карту с нестандартным тайлсетом. Т.е вы можете рисовать несколько типов полов, стен, разные элементы интерьера (ёлки, снеговики). Для того чтобы сделать это, нужна уже готовая заготовка стандартной карты, описанная выше. Так как слой «logic» - есть логическая карта, т.е при использовании уникального тайлсета, этот слой рисоваться не будет. В деталях всё будет далее:
</p>

<p>
Для начала необходимо, известным нам способом, добавить свой уникальный тайл сет.
</p>

<p>
<a href="https://wiki.nyrds.net/lib/exe/fetch.php?media=ru:rpd:tiled_guide_new_tileset.png" class="media" title="ru:rpd:tiled_guide_new_tileset.png"><img src="https://wiki.nyrds.net/lib/exe/fetch.php?w=200&amp;tok=1215e0&amp;media=ru:rpd:tiled_guide_new_tileset.png" class="media" loading="lazy" alt="" width="200" /></a>
</p>

<p>
Создать слой «base». base является основой декоративного слоя, как правило, на нём нужно рисовать пол и куски стен и интерьера которые не имеют прозрачных частей, и где вы будете размещать дополнительные элементы (двери, окна и т.д.)
</p>

<p>
<a href="https://wiki.nyrds.net/lib/exe/fetch.php?media=ru:rpd:tiled_guide_base.png" class="media" title="ru:rpd:tiled_guide_base.png"><img src="https://wiki.nyrds.net/lib/exe/fetch.php?w=200&amp;tok=d01b02&amp;media=ru:rpd:tiled_guide_base.png" class="media" loading="lazy" alt="" width="200" /></a>
</p>

<p>
Создать слой «deco». deco является вторым декоративным слоем, который накладывается поверх «base». Именно здесь нужно рисовать вышеуказанные двери, деревья и прочие тайлы с прозрачными элементами. Потому что если вы разместите их на слое «base», то прозрачные элементы так и будут прозрачными в игре.
</p>

<p>
<a href="https://wiki.nyrds.net/lib/exe/fetch.php?media=ru:rpd:tiled_guide_deco.png" class="media" title="ru:rpd:tiled_guide_deco.png"><img src="https://wiki.nyrds.net/lib/exe/fetch.php?w=200&amp;tok=b7bb72&amp;media=ru:rpd:tiled_guide_deco.png" class="media" loading="lazy" alt="" width="200" /></a>
</p>

<p>
Соответственно, сделав это, в слое «logic» достаточно обрисовать все непроходимые участки — стенами, проходимые — полом, спуски — спусками и подъём — подъёмом. Как показано на скриншоте.
</p>

<p>
<a href="https://wiki.nyrds.net/lib/exe/fetch.php?media=ru:rpd:tiled_guide_logic.png" class="media" title="ru:rpd:tiled_guide_logic.png"><img src="https://wiki.nyrds.net/lib/exe/fetch.php?w=200&amp;tok=a554fe&amp;media=ru:rpd:tiled_guide_logic.png" class="media" loading="lazy" alt="" width="200" /></a>
</p>

<p>
И если мы спрячем в редакторе слой «logic» и оставим другие два, то мы получим вот такую красивую картинку, которая, если всё сделано правильно отобразится в игре
</p>

<p>
<a href="https://wiki.nyrds.net/lib/exe/fetch.php?media=ru:rpd:tiled_guide_pretty.png" class="media" title="ru:rpd:tiled_guide_pretty.png"><img src="https://wiki.nyrds.net/lib/exe/fetch.php?w=200&amp;tok=f041a7&amp;media=ru:rpd:tiled_guide_pretty.png" class="media" loading="lazy" alt="" width="200" /></a>
</p>

<p>
Для чего мы вновь должны экспортировать проект в формате <strong>Remixed Pixel Dungeon levels</strong>. И на выходе получаем файл следующего содержания:
</p>

<p>
<a href="https://wiki.nyrds.net/lib/exe/fetch.php?media=ru:rpd:tiled_guide_deco_export.png" class="media" title="ru:rpd:tiled_guide_deco_export.png"><img src="https://wiki.nyrds.net/lib/exe/fetch.php?w=200&amp;tok=b45348&amp;media=ru:rpd:tiled_guide_deco_export.png" class="media" loading="lazy" alt="" width="200" /></a>
</p>

<p>
Где есть два важных параметра,
</p>

<p>
«customTiles»:true - показатель того, что на карте используются уникальные тайлы, в нашем случае элементы деревушки
</p>

<p>
«tiles»:«Citywip.png» - путь к файлу с уникальными тайлами в вашем моде
</p>

</div>

<h4 id="слои_карты">Слои карты</h4>
<div class="level4">
<ul>
<li class="level1"><div class="li"> logic (это базовые тайлы)</div>
</li>
<li class="level1"><div class="li"> base</div>
</li>
<li class="level1"><div class="li"> deco</div>
</li>
<li class="level1"><div class="li"> deco2 - эти слои рисуются под героем</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li">  roof_base</div>
</li>
<li class="level1"><div class="li">  roof_deco - эти слои рисуются над героем</div>
</li>
</ul>

<p>
Ещё есть mobs и objects, но чтобы их использовать нужны прописанные свойства в тайлсетах.
Карты и тайлсеты живут тут: <a href="https://github.com/NYRDS/remixed-dungeon/tree/master/TiledMaps" class="urlextern" title="https://github.com/NYRDS/remixed-dungeon/tree/master/TiledMaps">https://github.com/NYRDS/remixed-dungeon/tree/master/TiledMaps</a>.
</p>

<p>
Удачного картостроения! 
</p>

<p>
Если что не понятно или не приятно пишите в группу: <a href="https://vk.com/rpd_modding" class="urlextern" title="https://vk.com/rpd_modding">https://vk.com/rpd_modding</a>  и гайд будет пополнятся и прихорашиваться.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0445 \u0442\u0430\u0439\u043b\u043e\u0432&quot;,&quot;hid&quot;:&quot;\u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435_\u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0445_\u0442\u0430\u0439\u043b\u043e\u0432&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:4,&quot;range&quot;:&quot;5001-&quot;} -->