====== Town Portal Spell - Code References ======

===== Java Classes =====
  * [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/Challenges.java#L67|Challenges.java]] - Contains the NO_TOWN challenge that forbids the TownPortal spell

===== JSON Configuration =====
This entity is implemented in Lua, no JSON configuration exists

===== String Resources =====
<code xml>
<string name="TownPortal_Name">Town Portal</string>
<string name="TownPortal_Info">This spell allows you to instantly return to safety. However, powerful magic sources nearby may prevent it from working as intended.</string>
</code>

Other language translations:
<code xml>
<string name="TownPortal_Name">Portail de Ville</string>
<string name="TownPortal_Info">Ce sort vous permet de vous mettre instantanément en sécurité. Cependant, de puissantes sources de magie à proximité peuvent l'empêcher de fonctionner comme prévu.</string>
</code>
(French - values-fr/strings_all.xml)

<code xml>
<string name="TownPortal_Name">Городской Портал</string>
<string name="TownPortal_Info">Это заклятье позволит вам мгновенно вернуться в безопасное место. Однако вблизи мощных источников магии оно может работать не так как ожидалось.</string>
</code>
(Russian - values-ru/strings_all.xml)

<code xml>
<string name="TownPortal_Name">Portal a la ciudad.</string>
<string name="TownPortal_Info">Este hechizo te permite regresar instantáneamente a un lugar seguro. Sin embargo, las fuentes mágicas poderosas cercanas pueden impedir que funcione como se esperaba.</string>
</code>
(Spanish - values-es/strings_all.xml)

<code xml>
<string name="TownPortal_Name">回城卷轴</string>
<string name="TownPortal_Info">这道咒语可以让你立即回到安全的地方。然而，附近强大的魔法源可能会阻止它如期发挥作用。</string>
</code>
(Chinese Simplified - values-zh-rCN/strings_all.xml)

===== Lua Scripts =====
  * [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/assets/scripts/spells/TownPortal.lua|TownPortal.lua]] - Main spell implementation

===== Entity Properties =====
  * **Type**: Spell (Common affinity)
  * **Level Requirement**: 2
  * **Cast Time**: 2 turns
  * **Spell Cost**: 3 mana
  * **Targeting**: Self
  * **Effect**: Teleports player to town level (town_2) at coordinates (15,11)
  * **Restriction**: Cannot be used on boss levels
  * **Image**: Icon ID 3 from spellsIcons/common.png

===== Related mr Entities =====
  * [[mr:heal_spell|Heal (Spell)]]
  * [[mr:raise_dead_spell|Raise Dead (Spell)]]
  * [[mr:cloak_spell|Cloak (Spell)]]
  * [[mr:calm_spell|Calm (Spell)]]
  * [[mr:charm_spell|Charm (Spell)]]
