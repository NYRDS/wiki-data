====== Щит Хаоса ======

{{ rpd:images:chaos_shield_item.png|Щит Хаоса }}

**Щит Хаоса** - это уникальный предмет-щит в Remixed Dungeon, обладающий особыми механиками, связанными с уроном и зарядами. Это щит 3-го уровня, который может повышать и понижать свой уровень в зависимости от боевых взаимодействий.

==== Описание ====
Щит Хаоса - это результат слияния кристалла Хаоса с обычным щитом, заставляющий его проявлять случайные хаотические эффекты при успешном блоке. Это необычный щит с динамическими свойствами, которые могут изменять его уровень в зависимости от боевых результатов.

==== Характеристики ====
  * **Начальный уровень:** 3
  * **Мин/Макс урон:** 3-4
  * **Задержка:** 0.75x (относительно скорости использования оружия)
  * **Цена:** 60 золота (20 * уровень)
  * **Тип:** Оборудование для левой руки (вторичное/щит)
  * **Спрайт:** chaosShield.png

==== Особые механики ====
  * **Система зарядов:** Щит имеет внутренний счётчик зарядов
  * **Получение урона владельцем:** Когда владелец щита получает урон, заряды уменьшаются на 1
  * **Нанесение урона владельцем:** Когда владелец наносит урон, заряды увеличиваются на 1 (проклятые щиты отключают это поведение)
  * **Деградация:** Если заряды опускаются ниже 0 после получения урона и уровень щита > 3, щит деградирует (уровень уменьшается) и заряды сбрасываются до требуемого количества для текущего уровня
  * **Улучшение:** Если заряды превышают порог после нанесения урона, щит улучшается (уровень увеличивается) и заряды сбрасываются до 0
  * **Формула зарядов:** Необходимые заряды для улучшения = 5 * (текущий_уровень)^1.5
  * **Поведение при проклятии:** Если проклят, щит не участвует в особых механиках (нанесение урона не влияет на заряды)

==== Детали реализации ====
Щит Хаоса реализован как Lua-скрипт, расширяющий библиотеку щитов:

  * Реализован в ''RemixedDungeon/src/main/assets/scripts/items/ChaosShield.lua''
  * Использует функцию ''shields.makeShield()'' из библиотеки щитов
  * Имеет специальную обработку в событиях ''ownerTakesDamage()'' и ''ownerDoesDamage()''
  * Функция ''ownerTakesDamage()'' уменьшает заряды при получении урона владельцем
  * Функция ''ownerDoesDamage()'' увеличивает заряды при успешном нанесении урона владельцем (если не проклят)
  * Функция ''desc()'' предоставляет описание предмета с использованием строковых ресурсов
  * Функция ''image()'' определяет спрайт на основе текущего уровня

==== Проверка данных ====
  * Источник информации: Lua-скрипт [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/assets/scripts/items/ChaosShield.lua|ChaosShield.lua]]
  * Реализация: На основе функций библиотеки щитов
  * Строковые ресурсы: ''ChaosShield_name'' и ''ChaosShield_desc'' из strings_all.xml
  * Последнее обновление: Декабрь 2025, источник: Remixed Dungeon 1.9.3

==== Ссылки на код ====
  * Lua-скрипт: [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/assets/scripts/items/ChaosShield.lua|ChaosShield.lua]]
  * Библиотека щитов: [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/assets/scripts/lib/shields.lua|shields.lua]]
  * Строковые ресурсы: [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/res/values-ru/strings_all.xml#L2888-L2889|strings_all.xml]]

==== Строковые ресурсы ====
  * [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/res/values-ru/strings_all.xml#L2888|ChaosShield_name]] - "Щит Хаоса"
  * [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/res/values-ru/strings_all.xml#L2889|ChaosShield_desc]] - "Щит Хаоса - это результат слияния кристалла Хаоса с обычным щитом, заставляющий его проявлять случайные хаотические эффекты при успешном блоке."

==== См. также ====
  * [[ru:rpd:shields|Щиты]] - Все типы щитов в игре
  * [[ru:rpd:armor|Броня]] - Другое защитное оборудование
  * [[ru:rpd:items|Предметы]] - Все предметы в игре
  * [[ru:rpd:chaos_staff_item|Посох Хаоса]] - Другой предмет с хаотичной механикой
  * [[ru:rpd:chaos_bow_item|Лук Хаоса]] - Другой предмет с хаотичной механикой
  * [[ru:rpd:buffs|Баффы]] - Эффекты статуса, которые могут взаимодействовать с щитами

{{tag> rpd items shields chaos_chaotic chaos_shield_item }}