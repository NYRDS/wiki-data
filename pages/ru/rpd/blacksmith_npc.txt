====== Кузнец ======

**Кузнец** - это персонаж (NPC), который предоставляет услугу перековки (reforge) для улучшения снаряжения игрока. Чтобы получить доступ к услугам кузнеца, необходимо выполнить его квест, который может быть одним из двух типов: либо принести ему 15 мракозлата, либо доставить ему молоток, испачканный кровью летучей мыши.

==== Роль в квесте ====
  * Появляется на уровне Пещер (depth > 11) с вероятностью (15 - depth)
  * Предлагает один из двух возможных квестов: либо 15 мракозлата, либо молоток с кровью летучей мыши
  * После выполнения квеста предоставляет услугу перековки двух одинаковых предметов в один более высокого уровня
  * Может улучшить уровень одного из предметов и предоставить Свиток Улучшения

==== Услуги ====
  * **Перековка (Reforge):** Объединяет два предмета одного типа в один более высокого качества
    * Требования: Оба предмета должны быть одного типа, идентифицированы, не прокляты, не отрицательного уровня и допускающие улучшение
    * Результат: Создает один предмет более высокого качества, с шансом получить Свиток Улучшения

==== Механика квеста ====
  * **Тип 1 - Мракозлато:** Нужно принести 15 мракозлата и молоток
  * **Тип 2 - Кровь:** Нужно принести молоток, окрашенный кровью летучей мыши (убить летучую мышь с молотком)
  * После выполнения квеста игрок может использовать услугу перековки один раз
  * После использования перековки кузнец больше не предоставляет свои услуги

==== Особенности ====
  * Имеет 1000 навыков защиты (эффективно невозможно атаковать успешно)
  * Появляется только в стандартных комнатах размером 5x5 или больше
  * Альтернативный квест (мракозлато или кровь) выбирается случайным образом

==== Код реализации ====
  * **Java-класс:** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/actors/mobs/npcs/Blacksmith.java|Blacksmith.java]]
  * **Механика квеста:** См. [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/actors/mobs/npcs/Blacksmith.java|Blacksmith.java]] для реализации квеста
  * **Проверка мракозлата:** См. [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/actors/mobs/npcs/Blacksmith.java#L84|Blacksmith.java#L84]] для проверки наличия мракозлата у игрока
  * **Строковые ресурсы:** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/res/values-ru/strings_all.xml#L2748-L2753|Blacksmith_Name, Blacksmith_Info в strings_all.xml]]

==== См. также ====
  * [[ru:rpd:npc|NPC]] - Общая информация о неигровых персонажах
  * [[ru:rpd:dark_gold_item|Мракозлато]] - Предмет, нужный для одного из квестов Кузнеца
  * [[ru:rpd:pickaxe_item|Молоток]] - Предмет, требуемый для квеста Кузнеца
  * [[ru:rpd:quest|Квесты]] - Информация о квестах в игре
  * [[ru:rpd:quest_items|Квестовые предметы]] - Другие квестовые предметы

{{tag> rpd npc blacksmith quest }}