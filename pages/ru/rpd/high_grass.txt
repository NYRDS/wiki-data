====== Высокая трава ======

**Высокая трава** — это особенность местности, встречающаяся по всему подземелью, которая предоставляет специальные свойства и взаимодействия. Обладает следующими характеристиками:

==== Свойства ====
  * **Перемещение**: Проходимая местность, через которую персонажи могут двигаться нормально
  * **Линия видимости**: Блокирует линию видимости (флаг LOS_BLOCKING)
  * **Воспламеняемость**: Может быть подожжена огненными эффектами
  * **Затаптывание**: При затаптывании превращается в обычную траву
  * **Видимость**: Обычно не блокирует линию видимости для игрока

==== Содержимое ====
  * **Выпадение**: Затаптывание может принести росинки (шанс увеличивается с уровнем кольца Травничества)
  * **Семена**: Затаптывание может принести случайные семена (шанс увеличивается с уровнем кольца Травничества)
  * **Скрытые предметы**: Некоторые предметы могут быть скрыты до тех пор, пока трава не будет затоптана
  * **Ловушки**: Некоторые ловушки могут быть скрыты в высокой траве до тех пор, пока они не будут сработаны

==== Взаимодействие ====
  * Перемещение по высокой траве затаптывает её, превращая в обычную траву
  * Затаптывание создает частицы листьев (4 частицы обычно, 2 для Скаута, 8 для Хранителя)
  * У некоторых подклассов героев есть особые взаимодействия при затаптывании высокой травы:
    * **Скаут**: Получает 5 ходов невидимости при затаптывании высокой травы
    * **Хранитель**: Получает кожу дерева (1/3 от HP) на короткое время при затаптывании высокой травы
  * Кольцо Травничества увеличивает вероятность выпадения росинок и семян при затаптывании

==== Механики ====
  * **ID местности**: 15 (константа Terrain.HIGH_GRASS)
  * **Флаги**: PASSABLE | LOS_BLOCKING | FLAMMABLE
  * **Эффект затаптывания**: Превращается в обычную траву (Terrain.GRASS)
  * **Выпадающие предметы**: Случайные росинки и семена, основанные на уровне баффа Травничества

==== Стратегия ====
  * Используйте высокую траву стратегически для укрытия во время боев
  * Учитывайте способности подкласса при планировании движения через области с высокой травой
  * Аккуратно затаптывайте, если вы хотите сохранить выгоду от укрытия
  * Помните, что некоторые враги могут быть скрыты в высокой траве до тех пор, пока вы не наступите на неё

==== Связанные страницы ====
  * [[ru:rpd:grass_terrain|Трава]] - Обычная трава (во что превращается высокая трава при затаптывании)
  * [[ru:rpd:scout_subclass|Скаут]] - Подкласс героя со специальным взаимодействием с высокой травой
  * [[ru:rpd:warden_subclass|Хранитель]] - Подкласс героя со специальным взаимодействием с высокой травой
  * [[ru:rpd:ring_of_herbalism_item|Кольцо Травничества]] - Предмет, влияющий на выпадение из высокой травы
  * [[ru:rpd:terrain|Местность]] - Другие особенности местности в подземелье
  * [[ru:rpd:seeds|Семена]] - Предметы, которые можно найти при затаптывании высокой травы
  * [[ru:rpd:dewdrop_item|Росинка]] - Предметы, которые можно найти при затаптывании высокой травы

==== Исходный код ====
  * [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/levels/Terrain.java|Terrain.java]] - Определение констант местности
  * [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/levels/TerrainFlags.java|TerrainFlags.java]] - Свойства местности
  * [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/levels/features/HighGrass.java|HighGrass.java]] - Механика затаптывания

{{tag> rpd terrain }}