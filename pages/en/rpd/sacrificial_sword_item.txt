====== Sacrificial Sword ======

{{ rpd:images:sacrificial_sword_swords.png|Sacrificial Sword }}

==== Description ====
At first glance this aged bronze sword, covered with patina stains, looks absolutely useless. But some sort of old, archaic powers sleeps inside. Those powers can turn almost any creature to will-less slave. Just need find a right way to wake them...

==== Basic Stats ====
  * **Damage:** 2 (base damage)
  * **Speed:** 1.0x (normal attack speed)
  * **Accuracy:** 1.0x (normal accuracy)
  * **Required Strength:** 13 (base, scales with upgrades)
  * **Durability:** Normal weapon durability
  * **Enchantment:** Cannot be enchanted
  * **Sprite:** Swords sprite sheet, image index 4
  * **Upgradable:** Yes
  * **Attack Animation:** Sword swing animation

==== Special Properties ====
When attacking an enemy with the Sacrificial Sword, there is a chance to convert the enemy into a pet that fights for the player:

  * **Conversion Chance Formula:**
    * Base chance = (0.25 + (hero level × 4 + sword level²) × 0.01) × class bonus / armorPenalty
    * Armor Penalty = target armor's DR / 8
    * Class Bonuses: Necromancer (×3.0), Shaman (×2.0), Warden (×1.5), others (×1.0)
    * Additional modifiers: - (enemy defense skill × 0.01 × enemy speed) - (enemy HP × 0.01)

==== Restrictions ====
  * Cannot convert bosses
  * Cannot convert NPCs
  * Only works on mobs
  * Lower chance with higher enemy defense skill and speed
  * Lower chance against enemies with higher HP
  * Only triggers on direct hits (not on missed attacks)

==== Mechanics ====
  * The sword emits a red glow (0xFF4466) that pulses with a period of max(0.1, 0.1/baseChance) which increases as the conversion chance increases
  * The glow pulses more rapidly as the conversion chance increases
  * The glow period is inversely proportional to the base conversion chance
  * Successfully converting an enemy triggers the [[en:rpd:pet_mechanic|pet]] creation mechanics
  * Does not work on enemies that are already pets

==== Strategy ====
  * Wear no armor or light armor to maximize conversion chances (armor DR reduces success rate)
  * Hero subclasses like Shaman or Necromancer have significantly higher conversion rates
  * Try to weaken enemies before attempting to convert them (lower HP increases chances)
  * Avoid using against fast enemies with high defense
  * The pulsing glow can indicate the current conversion chance visually
  * Consider using debuffs to reduce enemy defense before attempting conversion

==== Code References ====
  * [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/nyrds/pixeldungeon/items/common/SacrificialSword.java|SacrificialSword.java]] - Main implementation
  * [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/actors/mobs/Mob.java#L442-L448|Mob.makePet()]] - Pet creation implementation
  * [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/actors/hero/Belongings.java|Belongings.java]] - For accessing hero's armor DR
  * [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/actors/hero/HeroClass.java|HeroClass.java]] - Hero class definitions
  * [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/actors/hero/HeroSubClass.java|HeroSubClass.java]] - Hero subclass definitions

==== String Resource References ====
  * **Name:** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/res/values/strings_all.xml|SacrificialSword_Name]] (automatically generated name)
  * **Information:** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/res/values/strings_all.xml|SacrificialSword_Info]]

==== Related ====
  * [[en:rpd:pet_mechanic|Pets]] - Information about pets created by this weapon
  * [[en:rpd:hero_subclasses|Hero Subclasses]] - How different subclasses affect the conversion chance
  * [[en:rpd:armor|Armor]] - How armor damage reduction affects conversion chance
  * [[en:rpd:weapons|Weapons]] - Other weapons in the game

{{tag> rpd items weapons artifacts melee warden shaman necromancer}}