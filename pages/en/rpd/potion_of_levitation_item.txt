====== Potion of Levitation ======

{{ rpd:images:potion_of_levitation_item.png|Potion of Levitation }}

The **Potion of Levitation** is a common [[en:rpd:potion_item|potion]] in Remixed Dungeon that allows the drinker to float over traps and certain terrain hazards.

==== Item Overview ====
  * **Type:** [[en:rpd:potion_item|Potion]]
  * **Rarity:** Common
  * **Special Effect:** Levitation effect for 20 turns, immunity to weight-based hazards
  * **Usage:** Single use item (consumed upon drinking)
  * **Price:** 35 [[en:rpd:gold|gold]] when identified
  * **[[en:rpd:identification|Identification]]:** Becomes identified when consumed, shattered, or when seen in inventory after being identified
  * **Moistening:** Can be used to moisten [[en:rpd:arrows|arrows]], [[en:rpd:scrolls|scrolls]], and [[en:rpd:rotten_food_item|rotten food]]

==== Special Mechanics ====
  * **Levitation Effect:** Allows floating over chasms, fire traps, and other weight-based hazards for 20 turns (DURATION constant)
  * **Flame and Gas Immunity:** Does NOT protect against gases or flames (those fill the air and still affect levitating character)
  * **Root Removal:** Removes any existing Roots effect when applied (Roots.detach call in Levitation.java)
  * **Terrain Interaction:** When the effect ends, triggers level.press() which can trigger any floor-based effects at the character's location
  * **Action Message:** "You float into the air!" (from string resources)
  * **[[en:rpd:identification|Identification]]:** Becomes identified when consumed, shattered, or when seen in inventory after being identified
  * **Stacking:** Multiple potions can be carried and used as needed

==== Strategy ====
  * Essential for navigating areas with dangerous traps or chasms
  * Best used when crossing hazardous terrain with pressure plates or weight-based traps
  * Can't be used to avoid gas or flame hazards since they fill the air
  * The levitation effect only lasts 20 turns by default
  * Consider using before attempting difficult jumps or chasms
  * Useful to avoid triggering mechanical traps when escaping enemies
  * Should be conserved for critical navigation situations
  * The effect ends immediately if you take damage from non-weight-based hazards

==== Obtaining ====
  * Found throughout dungeon [[en:rpd:levels|levels]]
  * Available in [[en:rpd:shops_mechanic|shops]] at moderate prices (35 [[en:rpd:gold|gold]] when identified)
  * Dropped by various [[en:rpd:mobs|enemies]]
  * Found in [[en:rpd:chests_mechanic|containers]] and special rooms
  * Alchemically crafted (recipe not specified in current codebase)

==== Effect ====
When consumed, the Potion of Levitation grants the [[en:rpd:levitation_buff|Levitation]] status effect for 20 turns, allowing the character to float over weight-based hazards like chasms and traps while being immune to their effects. However, gases and flames still affect the character since they fill the air.

According to the game's string resources: "Drinking this curious liquid will cause you to hover in the air, able to drift effortlessly over traps. Flames and gases fill the air, however, and cannot be bypassed while airborne."

==== Code References ====
  * **Java Implementation:** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/items/potions/PotionOfLevitation.java|PotionOfLevitation.java]]
  * **Potion Base Class:** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/items/potions/Potion.java|Potion.java]]
  * **Levitation Buff Implementation:** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/actors/buffs/Levitation.java|Levitation.java]] - Duration constant = 20f
  * **Duration Constant:** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/actors/buffs/Levitation.java#L8|Levitation.DURATION]] - Set to 20f
  * **Roots Removal:** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/actors/buffs/Levitation.java#L14|Levitation.java#L14]] - Roots.detach() called when attaching
  * **Level Press:** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/actors/buffs/Levitation.java#L19-L22|Levitation.java#L19-L22]] - level.press() called when the effect ends
  * **Apply Message:** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/items/potions/PotionOfLevitation.java#L15|PotionOfLevitation.java#L15]] - Uses string resource for "You float into the air!" message
  * **Price Configuration:** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/items/potions/PotionOfLevitation.java#L24-L26|PotionOfLevitation.java#L24-L26]] - Base price is 35 gold
  * **Moistening Implementation:** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/items/potions/PotionOfLevitation.java#L28-L48|PotionOfLevitation.java#L28-L48]] - Can moisten arrows, scrolls, and rotten food
  * **Treasury Configuration:** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/assets/levelsDesc/Treasury.json#L140|Treasury.json#L140]] - Potion spawn probability
  * **English String Resources:** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/res/values/strings_all.xml#L2194-L2196|PotionOfLevitation_Name, PotionOfLevitation_Info, PotionOfLevitation_Apply]] (PotionOfLevitation_Name, PotionOfLevitation_Info, and PotionOfLevitation_Apply)
  * **Russian String Resources:** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/res/values-ru/strings_all.xml#L2194-L2196|PotionOfLevitation strings]] (Russian localization)
  * **Spanish String Resources:** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/res/values-es/strings_all.xml#L2194-L2196|PotionOfLevitation strings]] (Spanish localization)
  * **French String Resources:** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/res/values-fr/strings_all.xml#L2194-L2196|PotionOfLevitation strings]] (French localization)
  * **German String Resources:** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/res/values-de/strings_all.xml#L2194-L2196|PotionOfLevitation strings]] (German localization)
  * **Chinese String Resources:** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/res/values-zh-rCN/strings_all.xml#L2194-L2196|PotionOfLevitation strings]] (Chinese localization)
  * **Stats verification:** Extracted directly from PotionOfLevitation.java and Levitation.java class methods
  * **Effect descriptions:** Based on code analysis and string resources
  * **mr: namespace:** Check [[mr:potion_of_levitation_item]] for machine-readable data

==== Related Items ====
  * [[en:rpd:potion|Potions]] - General information about potions
  * [[en:rpd:levitation_buff|Levitation Buff]] - The status effect applied by this potion
  * [[en:rpd:potion_item|Potion]] - Base potion class
  * [[en:rpd:mechanics|Game Mechanics]] - General game mechanics
  * [[en:rpd:hero|Hero]] - Main playable character
  * [[en:rpd:items|Items]] - All items in the game
  * [[en:rpd:consumables|Consumables]] - Consumable items
  * [[en:rpd:traps|Traps]] - Information about traps this potion helps avoid

{{tag> rpd items potions levitation traps}}