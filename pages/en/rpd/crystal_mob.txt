====== Crystal (Mob) ======

{{ rpd:images:crystal_sprite.png|Crystal Sprite }}

The **Crystal** is a special magical enemy found in Remixed Pixel Dungeon, often associated with the [[en:rpd:shadow_lord_mob|Shadow Lord]]. These are magical constructs that serve powerful entities in the dungeon and possess magical abilities.

==== Description ====
Crystals are magical constructs that serve the [[en:rpd:shadow_lord_mob|Shadow Lord]] and other powerful entities in the dungeon. They appear on pedestals and attack with wands. They have 3 different types and can be quite dangerous in combat.

Based on string resources: [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/res/values/strings_all.xml#L1423|"Big shining crystal floating in the air. Probably it is filled with powerful magic."]] [[mr:crystal_mob|Crystal - Code References]]

==== Stats ====
  * **HP:** Depth * 4 + 1 (adjusts based on dungeon depth)
  * **Defense:** Depth * 2 + 1 (adjusts based on dungeon depth)
  * **Attack Skill:** 1000 (for types 0 & 1); variable (for type 2 - Shadow Lord crystals, uses default mob attack skill)
  * **Damage:** Random value between HP/2 and HT/2
  * **Speed:** Immovable (cannot be displaced)
  * **EXP:** Depth + 1
  * **Max Level:** Depth + 2
  * **DR (Damage Resistance):** EXP/3

==== Special Properties ====
  * **Immunities:** Immune to Toxic Gas, Paralysis, Stun, Confusion Gas, and Scroll of Psionic Blast
  * **Immobile:** Cannot move (movable = false)
  * **No Corpse:** Does not leave a carcass upon death (carcassChance = 0)
  * **Wand Attack:** Uses wands to attack enemies at range
  * **3 Types:** Different types with different behaviors (0, 1, and 2)
  * **Special Equipment:** Automatically equipped with random wands based on dungeon depth (Shadow Lord crystals have 25% chance of getting Wand of Shadowbolt instead)

==== Behavior ====
  * **Type 2 Special:** Shadow Lord crystals (kind = 2) have 25% chance to be equipped with [[en:rpd:wand_of_shadowbolt|Wand of Shadowbolt]] upgraded to half dungeon depth (instead of normal wands)
  * **Dungeon Interaction:** When a crystal on a pedestal dies, it transforms the area to embers and foliage, clearing Darkness in a 5x5 area
  * **Steal Action:** If targeted with a "steal" action, it will create a Chaos Mark at its position and die
  * **Non-Pettable:** Cannot be turned into a pet
  * **Wand Attack:** Uses equipped wand when attacking (wand is upgraded to appropriate level based on dungeon depth)
  * **Attack Range:** Can attack any target in line of sight using Ballistica.cast
  * **Attack Mechanism:** Crystals always perform a zap attack instead of normal melee attack

==== Types ====
There are 3 different types of crystals:
  * **Type 0 & 1:** Standard crystals that spawn randomly in levels with attack skill of 1000
  * **Type 2:** Special Shadow Lord crystals that appear during the [[en:rpd:shadow_lord_mob|Shadow Lord]] encounter with enhanced mechanics

==== Strategy ====
  * **Magical Resistance:** Magical resistance or armor can be helpful against wand-based attacks
  * **Immobilized Target:** Since crystals don't move, you can position yourself to avoid their attacks
  * **Range Attack:** Crystals can attack from a distance using their wands, with attack skill of 1000 for types 0 & 1
  * **Pedestal Death Effect:** If a crystal dies while on a pedestal, it transforms the area to embers and foliage, clearing Darkness in a 5x5 area
  * **Shadow Lord Crystals:** Be aware that Shadow Lord crystals have a 25% chance to use [[en:rpd:wand_of_shadowbolt|Wand of Shadowbolt]]

==== Technical Details ====
  * **Java Class:** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/nyrds/pixeldungeon/mobs/common/Crystal.java|Crystal.java]]
  * **Inheritance:** Extends [[en:rpd:multi_kind_mob|MultiKindMob]] and implements IDepthAdjustable and IZapper interfaces
  * **Implementation:** Automatically equipped with random wands based on depth, with special handling for Shadow Lord crystals
  * **Entity Kind:** [[mr:crystal_mob|Crystal - Code References]]
  * **String Resource:** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/res/values/strings_all.xml#L1423|Crystal_Desc]]

==== Drops ====
  * **Standard Crystal:** Wand of appropriate level based on dungeon depth (upgraded to Dungeon.depth/3)
  * **Shadow Lord Crystal:** May have [[en:rpd:wand_of_shadowbolt|Wand of Shadowbolt]] with 25% chance (upgraded to half dungeon depth)
  * **Chaos Mark:** When targeted with "steal" action

==== Trivia ====
  * Crystals were once able to drop "Wand of Magic Missiles" but this was changed in a previous update
  * Crystals created by the Shadow Lord use upgraded wands (upgrade level is half the dungeon depth)
  * Crystals cannot be moved with telekinesis
  * The crystal that appears during the Shadow Lord fight has special mechanics and a higher attack skill (1000)

==== See Also ====
  * [[en:rpd:enemies_overview|Enemies]]
  * [[en:rpd:shadow_lord_mob|Shadow Lord]]
  * [[en:rpd:wands|Wands]]
  * [[en:rpd:multi_kind_mob|MultiKindMob]]
  * [[mr:crystal_mob|Crystal - Code References]]
  * [[en:rpd:pedestal_level_object|Pedestal]]

{{tag> rpd mobs}}