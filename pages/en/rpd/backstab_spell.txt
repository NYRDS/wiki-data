====== Backstab ======

{{ rpd:images:backstab_spell_icon.png|Backstab Spell Icon }}

**Backstab** is a spell in Remixed Pixel Dungeon (Rogue Affinity).

==== Description ====
Silent hit in the back. Dishonest, but extremely effective, backstab damage will grow with performer skill level.

Successful backstab will completely ignore victim armor or special defense abilities. The spell only works if the target enemy is distracted (PASSIVE, SLEEPING, FLEEING, HORRIFIED, RUNNINGAMOK) or paralyzed. It requires the target to be within 1 tile distance from the caster.

==== Stats ====
  * **Magic Affinity:** Rogue
  * **Targeting:** self (automatically targets nearest enemy within 1 tile)
  * **Level:** 2
  * **Mana Cost:** 2
  * **Cast Time:** 1 turn
  * **Special Effects:** deals damage with backstab visual effect
  * **Damage Formula:** sqrt(caster's skill level) * (main weapon damage roll + secondary weapon damage roll)
  * **Conditions:** Only works on distracted enemies (PASSIVE, SLEEPING, FLEEING, HORRIFIED, RUNNINGAMOK) or paralyzed targets
  * **Range:** 1 tile distance from caster

==== Usage ====
The Backstab spell can be used for:
  * Offensive applications against distracted or paralyzed enemies
  * Strategic applications when enemy is not aware of the hero
  * High-damage strikes when conditions are favorable

==== Classes ====
  * [[en:rpd:rogue_class|Rogue class]] - Primary user of this spell

==== Strategy ====
How to effectively use the Backstab spell:
  * Best used when enemy is in a distracted state or paralyzed
  * Works with both main hand and off-hand (shield) weapons for damage calculation
  * Damage scales with your skill level (specifically sqrt(skill level) multiplier)
  * Guaranteed to work only on enemies that cannot respond immediately
  * Ignores enemy armor completely when successful
  * Requires the target to be within 1 tile distance
  * Will fail if the caster has no weapons equipped (nil reference error on damage roll)

==== Code Implementation ====
Based on the Lua implementation:
  * The spell checks if the nearest enemy is within 1 tile distance
  * If the enemy is distracted OR paralyzed, the backstab succeeds
  * Damage is calculated using both the main weapon and secondary weapon (shield) damage rolls
  * After successful backstab, a visual status effect ("backstab") is shown to the victim
  * A sound effect (Wound) is played after the attack

==== Source Code ====
This spell is implemented as a Lua script:
  * [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/assets/scripts/spells/Backstab.lua|Backstab.lua]]
  * [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/assets/scripts/lib/spell.lua|spell.lua]] - Spell library implementation

==== String Resources ====
  * [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/res/values/strings_all.xml#L2622|Backstab_Name]]
  * [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/res/values/strings_all.xml#L2623|Backstab_Info]]
  * [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/res/values/strings_all.xml#L2624|Backstab_TooFar]]
  * [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/res/values/strings_all.xml#L2625|Backstab_Aware]]

==== Russian String Resources ====
  * [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/res/values-ru/strings_all.xml#L2623|Backstab_Name]]
  * [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/res/values-ru/strings_all.xml#L2624|Backstab_Info]]
  * [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/res/values-ru/strings_all.xml#L2625|Backstab_TooFar]]
  * [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/res/values-ru/strings_all.xml#L2626|Backstab_Aware]]

==== See Also ====
  * [[en:rpd:spells|Spells]] - Other magical abilities
  * [[en:rpd:mechanics|Game Mechanics]] - Core game systems
  * [[en:rpd:rogue_affinity|Rogue Affinity]] - Rogue class abilities and mechanics
  * [[en:rpd:melee_weapons|Melee Weapons]] - Information about weapons used in backstab
  * [[en:rpd:ranged_weapons|Ranged Weapons]] - Alternative weapon options
  * [[en:rpd:status_effects|Status Effects]] - Other game status effects

{{tag> rpd spells rogue }}
