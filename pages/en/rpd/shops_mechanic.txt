====== Shops ======

{{ rpd:images:shopkeeper_mob.png|Shopkeeper }}

Shops are special rooms in the dungeon where players can purchase items, equipment, and services from NPCs. Each shop specializes in different types of items.

==== Types of Shops ====
  * [[en:rpd:shopkeeper_npc|General Shop]] - Basic equipment, potions, scrolls
  * [[en:rpd:wandmaker_npc|Wand Shop]] - Wands and related items
  * Armor Shop - Various types of armor
  * Weapon Shop - Different weapons
  * Food Shop - Food items for sustenance

==== Shop Mechanics ====
  * Shops appear randomly on floors, usually in special shop rooms
  * Items in shops rotate with each visit
  * Prices can vary based on game state and character stats
  * [[en:rpd:ring_of_haggler_item|Ring of Haggler]] can reduce prices by 25% when the hero has the Haggling buff
  * [[en:rpd:gold_item|Gold]] is required for all purchases
  * Shopkeepers stock different types of items based on level depth

==== Shop Inventory ====
  * Weapons and armor are usually upgraded to a random level
  * Potions and scrolls are typically identified
  * Special items may appear on occasion
  * Shops often include a mix of useful consumables and equipment upgrades

==== Strategy ====
  * Early game: Focus on basic equipment upgrades
  * Mid game: Prioritize useful consumables
  * Late game: Look for rare or unique items that may appear
  * Always keep some gold for emergency purchases
  * Consider the Ring of Haggler for significant savings

==== Source Code References ====
  * Shop Room Painter: [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/levels/painters/ShopPainter.java|ShopPainter.java]]
  * Shopkeeper Implementation: [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/actors/mobs/npcs/Shopkeeper.java|Shopkeeper.java]]
  * Shop Transactions: [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/windows/WndTradeItem.java|WndTradeItem.java]]
  * Haggling Mechanic: [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/items/rings/RingOfHaggler.java#L21|RingOfHaggler.Haggling class]]
  * Shop Inventory: [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/levels/painters/ShopPainter.java#L75-L145|ShopPainter.fillInventory method]]

==== See Also ====
  * [[en:rpd:gold_item|Gold]] - Currency used in shops
  * [[en:rpd:items|Items]] - Items that can be purchased
  * [[en:rpd:npcs|NPCs]] - The shopkeepers themselves
  * [[en:rpd:ring_of_haggler_item|Ring of Haggler]] - Reduces shop prices
  * [[en:rpd:shopkeeper_npc|Shopkeeper]] - The shop NPC
  * [[en:rpd:town_shop_level|Last Shop Level]] - Final shop level before the boss

{{tag> rpd shops}}