====== 治疗药水 ======

{{ rpd:images:potion_of_healing_item.png|治疗药水 }}

**治疗药水**是Remixed Dungeon中的一种常见[[cn:rpd:potion_item|药水]]，可以恢复饮用者大量生命值。

==== 物品概览 ====
  * **类型：** [[cn:rpd:potion_item|药水]]
  * **稀有度：** 普通
  * **特殊效果：** 恢复全部生命值并移除多种负面状态效果
  * **用法：** 一次性物品（饮用后消耗）
  * **价格：** 识别后30金币
  * **识别：** 消耗、破碎或在背包中看到已识别物品时变为已识别

==== 特殊机制 ====
  * **完全治疗：** 恢复全部生命值至最大值（恢复100%最大生命值）
  * **状态清除：** 移除中毒、残废、虚弱和流血等状态效果
  * **破碎：** 在地面上破碎时，恢复该格上任何角色50%最大生命值
  * **箭矢湿润：** 可用于湿润箭矢以制作治疗箭
  * **识别：** 消耗、破碎或在背包中看到已识别物品时变为已识别
  * **堆叠：** 可携带多瓶药水并按需使用
  * **应急使用：** 可用于防止死亡或从重大伤害中恢复

==== 策略 ====
  * 危险遭遇时应急恢复生命值的必备物品
  * 最好在生命值极低或需要状态效果移除时使用
  * 可在具有挑战性的遭遇前主动使用
  * 破碎可用于治疗盟友或无法饮用时
  * 战斗中通常比其他治疗方法更安全
  * 在头目战斗前使用以确保满血状态
  * 湿润远程战斗箭矢提供额外实用性
  * 危险情况下求生的必需品
  * 应在关键时刻而非轻微伤势时保存使用
  * 在艰难战斗中往往是生与死的差别
  * 在任何情况下都应携带的最重要物品之一
  * 多个职业的起始物品

==== 获取方式 ====
  * 在地城关卡中随处可见
  * 在商店中以中等价格提供（识别后30金币）
  * 被各种敌人掉落（例如蝙蝠（12.5%概率）、蝎子、蜂群）
  * 在容器和特殊房间中发现
  * 包括牧师、医生、死灵法师在内的多个职业的起始物品
  * 使用炼金术锅从太阳草种子植物制作而成

==== 效果 ====
饮用时，治疗药水会恢复你所有的当前生命值并治愈中毒、残废、虚弱和流血等状态效果。

根据游戏字符串资源："一种能立即恢复你全部生命值并解毒的灵药。"

==== 代码参考 ====
  * **Java实现：** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/items/potions/PotionOfHealing.java|PotionOfHealing.java]]
  * **药水基类：** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/items/potions/Potion.java|Potion.java]]
  * **治疗机制：** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/actors/Char.java#L99-L107|Char.java#L99-L107]] (heal方法)
  * **状态效果移除：** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/items/potions/PotionOfHealing.java#L43-L48|PotionOfHealing.java#L43-L48]] (治愈特定减益效果)
  * **炼金配方：** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/plants/Sungrass.java#L46|Sungrass.java#L46]]
  * **破碎机制：** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/items/potions/PotionOfHealing.java#L51-L59|PotionOfHealing.java#L51-L59]] (药水破碎时)
  * **箭矢湿润：** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/items/potions/PotionOfHealing.java#L65-L69|PotionOfHealing.java#L65-L69]] (药水如何湿润箭矢 - 通过moistenArrow方法实现)
  * **价格配置：** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/items/potions/PotionOfHealing.java#L50-L52|PotionOfHealing.java#L50-L52]] (识别后价格为30金币)
  * **治疗箭创建：** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/items/weapon/missiles/HealthArrow.java|HealthArrow.java]] - 湿润箭矢时创建
  * **宝藏配置：** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/nyrds/pixeldungeon/items/Treasury.java#L132-L137|Treasury.java#L132-L137]] - 药水物品生成系统
  * **蜘蛛宝藏：** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/assets/levelsDesc/SpidersTreasury.json#L137|SpidersTreasury.json#L137]] - 蜘蛛关卡药水生成概率(45)
  * **商店宝藏：** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/assets/levelsDesc/TownShopTreasury.json#L31|TownShopTreasury.json#L31]] - 商店可用性配置(概率1)
  * **起始物品：** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/assets/hero/initHeroes.json#L157|initHeroes.json#L157]]和[[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/assets/hero/initHeroes.json#L226|initHeroes.json#L226]] - 作为某些英雄职业起始物品使用
  * **NPC奖励：** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/assets/scripts/npc/PlagueDoctor.lua#L40|PlagueDoctor.lua#L40]] - 作为瘟疫医生NPC任务奖励使用
  * **英语字符串资源：** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/res/values/strings_all.xml#L2188-L2190|PotionOfHealing_Name, PotionOfHealing_Info, PotionOfHealing_Apply]] (PotionOfHealing_Name, PotionOfHealing_Info, 和 PotionOfHealing_Apply)
  * **俄语字符串资源：** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/res/values-ru/strings_all.xml#L2189-L2191|PotionOfHealing_Name, PotionOfHealing_Info, PotionOfHealing_Apply]] (俄语本地化)
  * **西班牙语字符串资源：** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/res/values-es/strings_all.xml#L2035-L2037|PotionOfHealing字符串]] (西班牙语本地化)
  * **法语字符串资源：** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/res/values-fr/strings_all.xml#L2178-L2180|PotionOfHealing字符串]] (法语本地化)
  * **德语字符串资源：** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/res/values-de/strings_all.xml#L2026-L2028|PotionOfHealing字符串]] (德语本地化)
  * **中文字符串资源：** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/res/values-zh-rCN/strings_all.xml#L2025-L2027|PotionOfHealing字符串]] (中文本地化)
  * **统计数据验证：** 直接从PotionOfHealing.java类方法提取
  * **效果描述：** 基于代码分析和字符串资源
  * **mr:命名空间：** 查看[[mr:potion_of_healing_item]]获取机器可读数据
  * **实现细节：** Java实现中的heal方法使用heal(ch, 1f)其中1f参数表示恢复100%最大生命值
  * **炼金制作：** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/actors/blobs/Alchemy.java#L72-L106|Alchemy.java#L72-L106]] - 在炼金锅中从种子制作药水的详细信息
  * **额外代码参考：** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/actors/Char.java|角色基类]]，[[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/items/potions/Potion.java|药水基类]]，[[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/Dungeon.java|地城类]]，[[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/actors/Actor.java|角色系统]]，[[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/items/Heap.java|物品堆系统]]，[[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/actors/buffs/Buff.java|增益系统]]，[[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/nyrds/pixeldungeon/items/common/ItemFactory.java|物品工厂]]，[[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/items/Treasury.java|宝藏系统用于物品生成]]

==== 相关物品 ====
  * [[cn:rpd:potion_item|药水]] - 药水的一般信息
  * 状态效果 - 此药水治愈的状态信息
  * 过量治疗药水 - 替代治疗药水
  * 游戏机制 - 生命系统
  * 箭矢 - 箭矢和湿润相关信息
  * 治疗箭 - 用此药水湿润制成
  * 生命 - 生命恢复的一般机制
  * 英雄 - 主要可玩角色
  * 物品 - 游戏中所有物品
  * 消耗品 - 消耗性物品
  * 炼金术 - 制作药水的炼金术机制
  * 种子 - 炼金术创造的原料
  * 太阳草种子 - 酿造的主要原料
  * 金币 - 商店中使用的货币

{{tag> rpd items potions healing arrows}}