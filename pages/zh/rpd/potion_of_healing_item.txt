====== 治療藥水 ======

{{ rpd:images:potion_of_healing_item.png|Potion of Healing }}

**治療藥水**是Remixed Dungeon中的一種常見[[en:rpd:potion_item|藥水]]，它會恢復飲用者的大量生命值。

==== 物品概覽 ====
  * **類型：** [[en:rpd:potion_item|藥水]]
  * **稀有度：** 常見
  * **特殊效果：** 恢復全部HP並移除多種負面[[en:rpd:status_effects|狀態效果]]
  * **使用：** 單次使用物品（飲用後消耗）
  * **價格：** 30[[en:rpd:gold|金幣]]（鑑定後）
  * **[[en:rpd:identification|鑑定]]：** 消耗、破碎或在背包中有已鑑定物品時可被鑑定
  * **[[en:rpd:identification|鑑定]]：** 消耗、破碎或在背包中有已鑑定物品時可被鑑定

==== 特殊機制 ====
  * **完全恢復：** 恢復所有HP至最大值（恢復100%的最大HP）
  * **狀態治療：** 移除[[en:rpd:poison_buff|中毒]]、[[en:rpd:cripple_buff|殘廢]]、[[en:rpd:weakness_buff|虛弱]]和[[en:rpd:bleeding_buff|流血]] [[en:rpd:status_effects|狀態效果]]
  * **破碎：** 破碎在地上時，對該格上的任何角色恢復50%的最大HP
  * **箭矢濕潤：** 可以濕潤[[en:rpd:arrows|箭矢]]以製作[[en:rpd:health_arrow_item|生命箭矢]]
  * **[[en:rpd:identification|鑑定]]：** 消耗、破碎或在背包中有已鑑定物品時可被鑑定
  * **堆疊：** 可以攜帶多個藥水並根據需要使用
  * **緊急使用：** 可用於預防死亡或從重大傷害中恢復

==== 策略 ====
  * 在危險遭遇中作為緊急生命恢復的基本方法
  * 健康處於危急水平或[[en:rpd:status_effects|狀態效果]]移除時最佳使用
  * 挑戰性遭遇前主動使用以確保滿HP
  * 破碎對盟友或無法飲用時進行治療很有用
  * 一般來說，在戰鬥中比其他治療方法更安全
  * [[en:rpd:bosses|首領戰]]前使用以確保滿HP
  * 箭矢濕潤為[[en:rpd:ranged_combat|遠程戰鬥]]提供額外實用性
  * 在危險情況中生存的必要品
  * 應該為關鍵時刻保存，而不是用於輕微傷害
  * 經常是在困難戰鬥中生死的決定因素
  * 在任何情況下最重要的物品之一

==== 獲得 ====
  * 在地牢[[en:rpd:levels|層次]]中找到
  * [[en:rpd:shops_mechanic|商店]]中以中等價格出售（鑑定後30[[en:rpd:gold|金幣]]）
  * 被各種[[en:rpd:mobs|敵人]]掉落（例如[[en:rpd:bat_mob|蝙蝠]]（12.5%機率）、[[en:rpd:scorpio_mob|蠍子]]、[[en:rpd:swarm_mob|群體]]）
  * 在[[en:rpd:chests_mechanic|容器]]和特殊房間中找到
  * 多個[[en:rpd:hero_class|職業]]的起始物品，包括[[en:rpd:priest_class|牧師]]、[[en:rpd:doctor_class|醫生]]、[[en:rpd:necromancer_class|死靈法師]]
  * 使用[[en:rpd:alchemy_mechanic|煉金]]鍋通過[[en:rpd:seeds|種子]]煉金製作

==== 效果 ====
服用後，治療藥水會恢復你所有的當前生命值並治癒[[en:rpd:poison_buff|中毒]]、[[en:rpd:cripple_buff|殘廢]]、[[en:rpd:weakness_buff|虛弱]]和[[en:rpd:bleeding_buff|流血]] [[en:rpd:status_effects|狀態效果]]。

根據遊戲的字符串資源："一種藥劑，能立即讓你恢復全部生命值並治癒中毒。"

==== 代碼參考 ====
  * **Java實現:** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/items/potions/PotionOfHealing.java|PotionOfHealing.java]]
  * **藥水基類:** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/items/potions/Potion.java|Potion.java]]
  * **治療機制:** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/actors/Char.java#L99-L107|Char.java#L99-L107]] (heal method)
  * **狀態效果移除:** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/items/potions/PotionOfHealing.java#L43-L48|PotionOfHealing.java#L43-L48]] (curing specific debuffs)
  * **煉金配方:** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/plants/Sungrass.java#L46|Sungrass.java#L46]]
  * **破碎機制:** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/items/potions/PotionOfHealing.java#L51-L59|PotionOfHealing.java#L51-L59]] (for when the potion is shattered)
  * **箭矢濕潤:** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/items/potions/PotionOfHealing.java#L65-L69|PotionOfHealing.java#L65-L69]] (how potions can moisten arrows - implemented via moistenArrow method)
  * **價格配置:** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/items/potions/PotionOfHealing.java#L50-L52|PotionOfHealing.java#L50-L52]] (price is 30 gold when identified)
  * **生命箭創建:** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/items/weapon/missiles/HealthArrow.java|HealthArrow.java]] - Created when moistening arrows
  * **寶藏配置:** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/nyrds/pixeldungeon/items/Treasury.java#L132-L137|Treasury.java#L132-L137]] - Item spawning system for potions
  * **蜘蛛寶藏:** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/assets/levelsDesc/SpidersTreasury.json#L137|SpidersTreasury.json#L137]] - Spider level potion spawn probability (45)
  * **商店寶藏:** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/assets/levelsDesc/TownShopTreasury.json#L31|TownShopTreasury.json#L31]] - Shop availability configuration (probability 1)
  * **起始物品:** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/assets/hero/initHeroes.json#L157|initHeroes.json#L157]] and [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/assets/hero/initHeroes.json#L226|initHeroes.json#L226]] - Used as starting item for some hero classes
  * **NPC獎勵:** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/assets/scripts/npc/PlagueDoctor.lua#L40|PlagueDoctor.lua#L40]] - Used as reward from Plague Doctor NPC quest
  * **英文字符串資源:** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/res/values/strings_all.xml#L2188-L2190|PotionOfHealing_Name, PotionOfHealing_Info, PotionOfHealing_Apply]] (PotionOfHealing_Name, PotionOfHealing_Info, and PotionOfHealing_Apply)
  * **俄文字符串資源:** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/res/values-ru/strings_all.xml#L2189-L2191|PotionOfHealing_Name, PotionOfHealing_Info, PotionOfHealing_Apply]] (Russian localization)
  * **西班牙文字符串資源:** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/res/values-es/strings_all.xml#L2035-L2037|PotionOfHealing strings]] (Spanish localization)
  * **法文字符串資源:** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/res/values-fr/strings_all.xml#L2178-L2180|PotionOfHealing strings]] (French localization)
  * **德文字符串資源:** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/res/values-de/strings_all.xml#L2026-L2028|PotionOfHealing strings]] (German localization)
  * **中文字符串資源:** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/res/values-zh-rCN/strings_all.xml#L2025-L2027|PotionOfHealing strings]] (Chinese localization)
  * **統計驗證:** 從PotionOfHealing.java類方法直接提取
  * **效果描述:** 基於代碼分析和字符串資源
  * **mr:命名空間:** 查看[[mr:potion_of_healing_item]]獲取機器可讀數據
  * **實現細節:** Java實現中的heal方法使用heal(ch, 1f)，其中1f參數表示恢復100%的最大HP
  * **煉金生產:** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/actors/blobs/Alchemy.java#L72-L106|Alchemy.java#L72-L106]] - 在煉金鍋中由種子製作藥水的詳細信息
  * **其他代碼參考:** [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/actors/Char.java|Character base class]], [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/items/potions/Potion.java|Potion base class]], [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/Dungeon.java|Dungeon class]], [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/actors/Actor.java|Actor system]], [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/items/Heap.java|Item heap system]], [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/actors/buffs/Buff.java|Buff system]], [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/nyrds/pixeldungeon/items/common/ItemFactory.java|Item factory]], [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/items/Treasury.java|Treasury system for item spawning]]
  * [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/items/potions/PotionOfHealing.java#L7-L8|PotionOfHealing labelIndex]] - labelIndex = 5 (icon reference)
  * [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/items/potions/PotionOfHealing.java#L12-L14|PotionOfHealing apply method]] - Healing application and visual feedback
  * [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/items/potions/PotionOfHealing.java#L17-L23|PotionOfHealing heal method]] - Static heal method that handles healing and debuff removal

==== Lua腳本參考 ====
  * [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/assets/scripts/npc/PlagueDoctor.lua#L40|PlagueDoctor.lua#L40]] - Used as reward in Plague Doctor NPC quest
  * [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/assets/scripts/items/test/TestItem.lua#L227|TestItem.lua#L227]] - Test item reference

==== 相關物品 ====
  * [[en:rpd:potion_item|藥水]] - 關於藥水的一般信息
  * [[en:rpd:status_effects|狀態效果]] - 此藥水可治癒的狀態信息
  * [[en:rpd:potion_of_overhealing_item|過量治療藥水]] - 替代治療藥水
  * [[en:rpd:mechanics|遊戲機制]] - 生命系統
  * [[en:rpd:arrows|箭矢]] - 關於箭矢和濕潤的信息
  * [[en:rpd:health_arrow_item|生命箭]] - 通過濕潤此藥水製作
  * [[en:rpd:health_mechanic|生命]] - 關於生命恢復的一般機制
  * [[en:rpd:hero|英雄]] - 主要可玩角色
  * [[en:rpd:items|物品]] - 遊戲中所有物品
  * [[en:rpd:consumables|消耗品]] - 消耗物品
  * [[en:rpd:alchemy_mechanic|煉金]] - 用於製作藥水的煉金機制
  * [[en:rpd:seeds|種子]] - 煉金原料
  * [[en:rpd:sungrass_seed_item|陽光草種子]] - 釀造的主要原料
  * [[en:rpd:gold_item|金幣]] - 商店中使用的貨幣

{{tag> rpd items potions healing arrows}}