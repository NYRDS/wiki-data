====== Kunai Throw ======

{{ rpd:images:kunai_throw_spell_icon.png|Kunai Throw Spell Icon }}

**Kunai Throw** is a spell in Remixed Pixel Dungeon (Rogue Affinity).

==== Description ====
This spell throws Kunai at random visible enemies extremely fast. The number of Kunai thrown depends on the caster's skill level, with more Kunai thrown at higher levels. The spell is so fast that you can't select the target.

==== Stats ====
  * **Magic Affinity:** [[rpd:rogue_class|Rogue]]
  * **Targeting:** self (targets random visible enemies)
  * **Level:** 2
  * **[[rpd:mana|Mana]] Cost:** 5
  * **Cast Time:** 0.01 (extremely fast)
  * **Spell Image:** Uses different icons based on spell tier (1, 9, or 17 depending on tier)

==== Mechanics ====
  * **Number of Kunai:** min(caster:skillLevel() - spellLevel + 1, 3) - maximum of 3 kunai
  * **Damage:** Random damage between n and (n + caster:lvl() * n), where n is the number of kunai thrown
  * **Targeting:** Automatically targets random enemies visible to the caster
  * **Zap Effect:** Shows a "Kunai" zap effect from caster to target
  * **Requirement:** Requires at least one visible enemy to cast

==== Usage ====
The Kunai Throw spell can be used for:
  * Offensive applications against [[rpd:enemies|enemies]]
  * Quick burst damage in [[rpd:combat|combat]]
  * Surprising enemies with fast, unavoidable attacks

==== Classes ====
Classes that can use this spell include:
  * Classes with Rogue affinity (e.g., [[rpd:rogue_class|Rogue class]])
  * Other classes that gain access through special means

==== Strategy ====
How to effectively use the Kunai Throw spell:
  * Best used when multiple enemies are visible to potentially hit several targets
  * More effective at higher skill levels when more Kunai can be thrown
  * Quick cast time makes it useful in tight situations
  * Works well when enemies are grouped together
  * Since it targets random enemies, it's useful when you don't need to target a specific one

==== Technical Details ====
  * Implementation: [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/assets/scripts/spells/KunaiThrow.lua|KunaiThrow.lua]]
  * Class: Lua script implementing the spell system
  * String resources: [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/res/values/strings_all.xml#L2626|KunaiThrow_Name]] and [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/res/values/strings_all.xml#L2627|KunaiThrow_Info]]
  * Spell system library: [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/assets/scripts/lib/spell.lua|spell.lua]]
  * Common classes library: [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/assets/scripts/lib/commonClasses.lua|commonClasses.lua]]
  * Spell parameters: [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/assets/scripts/spells/KunaiThrow.lua#L7-L15|level = 2, castTime = 0.01, spellCost = 5]]
  * Tier calculation: [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/assets/scripts/spells/KunaiThrow.lua#L5-L6|math.min(caster:skillLevel() - spellLevel + 1, 3)]]
  * Damage calculation: [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/assets/scripts/spells/KunaiThrow.lua#L33|math.random( n, n + caster:lvl()*n )]]
  * Zap effect: [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/assets/scripts/spells/KunaiThrow.lua#L32|RPD.zapEffect(ownPos,tgt:getPos(),"Kunai")]]
  * Target selection: [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/assets/scripts/spells/KunaiThrow.lua#L29|caster:randomEnemy()]]
  * Visible enemies check: [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/assets/scripts/spells/KunaiThrow.lua#L27|caster:visibleEnemies()]]
  * Image mapping: [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/assets/scripts/spells/KunaiThrow.lua#L36-L38|lvl2img = {1,9,17} based on spell tier]]
  * Magic affinity: [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/assets/scripts/spells/KunaiThrow.lua#L13|Magic Affinity: "Rogue"]]
  * Targeting type: [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/assets/scripts/spells/KunaiThrow.lua#L12|Targeting: "self"]]
  * Common classes library: [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/assets/scripts/lib/commonClasses.lua|commonClasses.lua]]

==== Технические детали ====
  * Реализация: [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/assets/scripts/spells/KunaiThrow.lua|KunaiThrow.lua]]
  * Spell tier calculation: math.min(caster:skillLevel() - spellLevel + 1, 3)
  * Количество метательных звёздочек: минимальное значение между (уровень навыка мага - 2 + 1) и 3
  * Урон: Случайное значение от n до (n + (уровень мага * n)), где n - количество метательных звёздочек
  * Изображение: Использует разные иконки в зависимости от уровня (1, 9 или 17 в зависимости от уровня)

==== Проверка содержимого ====
  * Lua-скрипт: [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/assets/scripts/spells/KunaiThrow.lua|KunaiThrow.lua]]
  * Строковые ресурсы (англ.): [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/res/values/strings_all.xml#L2626-L2627|KunaiThrow_Name and KunaiThrow_Info]]
  * Строковые ресурсы (рус.): [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/res/values-ru/strings_all.xml#L2685-L2686|KunaiThrow_Name and KunaiThrow_Info]]
  * Машинно-читаемые данные: [[mr:kunai_throw_spell|mr:kunai_throw_spell]]

==== Flavor Text ====
From the game: "This Deadly Kunai throw will be done extremely fast, so fast that you won't even be able to select a target.\n\nTrue Masters able to throw more than one Kunai at once."

==== See Also ====
  * [[rpd:spells|Spells]]
  * [[rpd:spell|Spell System]]
  * [[rpd:mechanics|Game Mechanics]]
  * [[rpd:rogue_class|Rogue Affinity]]
  * [[rpd:kunai_item|Kunai Item]]
  * [[rpd:melee_weapons|Melee Weapons]]
  * [[rpd:ranged_weapons|Ranged Weapons]]

{{tag> rpd spells rogue }}
