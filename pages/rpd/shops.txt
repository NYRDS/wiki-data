====== Shops ======

{{ rpd:images:shopkeeper_npc.png|Shopkeeper }}

Shops are special locations in Remixed Dungeon where players can purchase items, equipment, and services using [[rpd:gold|gold]].

==== Description ====
Shops are areas of the dungeon where merchants sell various goods. They provide access to items that might be difficult to find randomly throughout the dungeon, as well as special items exclusive to shops.

==== Types of Shops ====
  * **General Shop** - Sells basic equipment, foods, potions, and scrolls
  * **Wand Shop** - Specializes in wands and magical items
  * **Armor Shop** - Focuses on armor and protective gear
  * **Weapon Shop** - Specializes in weapons and ammunition
  * **Rare Shop** - Sells rare and exotic items
  * **Specialty Shops** - Various themed shops with unique inventories

==== Shop Locations ====
  * Shops typically appear on levels 2, 3, 4, and 6 of each region
  * Each region (Sewers, Prison, Caves, Necropolis) has its own shop levels
  * Some special shops may appear on other levels

==== Shop Mechanics ====
  * **Pricing:** Items are typically priced at 2-3x their value when identified
  * **Identification:** Unidentified items are sold at lower prices
  * **Limited Stock:** Each shop has limited inventory that doesn't replenish
  * **Upgrading:** Shopkeepers can upgrade equipment (in some shops)
  * **Selling:** Players can sell items to shopkeepers for gold

==== Shop Inhabitants ====
  * [[rpd:shopkeeper_npc|Shopkeeper]] - The primary merchant
  * [[rpd:bat_mob|Bats]] - Sometimes found protecting shopkeepers
  * Other NPCs may occasionally appear in shops

==== Strategy ====
  * Visit shops early to secure important items for progression
  * Identify valuable items before selling them
  * Buy essential consumables like food, potions, and scrolls
  * Look for good deals on equipment upgrades
  * Be careful when entering shops, as some may be guarded

==== Special Features ====
  * **Currency:** All transactions use [[rpd:gold|gold]]
  * **Identify Service:** Some shopkeepers can identify items
  * **Upgrading Service:** Some shops offer equipment upgrading
  * **Unique Items:** Shops often have items not found elsewhere

==== Code References ====
  * Shop generation: [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/levels/Patch.java|Patch.java]] and related level code
  * Shopkeeper AI: [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/actors/mobs/npc/Shopkeeper.java|Shopkeeper.java]]
  * Shop mechanics: [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/windows/WndTradeItem.java|WndTradeItem.java]]
  * String resources: [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/res/values/strings_all.xml#L1550-L1570|Shop-related strings]]

==== See Also ====
  * [[rpd:gold|Gold]] - The currency used in shops
  * [[rpd:shopkeeper_npc|Shopkeeper]] - The NPC shop owner
  * [[rpd:items|Items]] - All types of items
  * [[rpd:levels|Levels]] - Dungeon level types where shops appear

{{tag> rpd shops gold trading }}