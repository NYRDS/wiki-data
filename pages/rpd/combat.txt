====== Combat ======

Combat is the core system in Remixed Dungeon for resolving conflicts between the player character and enemies. It involves turn-based tactical engagement using various weapons, abilities, and strategies.

==== Description ====
Combat in Remixed Dungeon is turn-based, meaning that after each action you take, nearly all creatures in the dungeon take an action as well. Understanding combat mechanics is crucial for survival and success in the dungeon.

==== Basic Mechanics ====
  * **Turn-Based:** After each action, enemies also take actions
  * **Melee:** Close-range combat using weapons and shields
  * **Ranged:** Attacks from a distance using thrown weapons or other items
  * **Magical:** Combat using spells, wands, or other magical items

==== Accuracy and Defense ====
  * **Attack Skill:** Determines chance to hit an opponent. Calculated as: (baseAttackSkill + character level) * accuracy modifier * skill factor (max 20), with ranged weapons having 50% accuracy when attacking in melee
  * **Defense Skill:** Reduces chance of being hit. Calculated as: (baseDefenseSkill + character level) * evasion modifier, with armor encumbrance penalty reducing defense
  * **Accuracy Formula:** Success chance is determined by: roll(0 to attackSkill) >= roll(0 to defenseSkill)
  * **Ranged Penalty:** When attacking in melee range with a ranged weapon, accuracy is reduced by 50%

==== Damage Calculation ====
  * **Base Damage:** Character's strength bonus (Random range from 1 to STR-9) + active weapon damage roll + secondary weapon damage roll (if not using ranged)
  * **Damage Range:** Calculated as random range between minimum and maximum values of all equipped weapons
  * **Damage Reduction:** Armor provides a damage reduction (DR) value that reduces incoming damage by a flat amount (random value from 0 to DR)

==== Combat Sequence ====
  * **Hit Check:** Using CharUtils.hit() to determine if attack connects based on attack vs defense skills
  * **Damage Roll:** Calculating damage based on strength and weapon damage
  * **Attack Processing:** Applying attack-specific effects and modifiers
  * **Defense Processing:** Reducing damage through armor DR and defensive effects
  * **Final Damage:** Applying final damage to target's HP

==== Combat Types ====
  * **Melee Combat:** Requires direct contact with enemies
  * **Ranged Combat:** Attack from a distance
  * **Magical Combat:** Using spells, wands, and scrolls
  * **Environmental Combat:** Using terrain and dungeon features

==== Defensive Tactics ====
  * **Kiting:** Attacking and moving to avoid retaliation
  * **Corridor Fighting:** Using narrow spaces to fight enemies one at a time
  * **Retreat:** Using scrolls or items to escape dangerous situations
  * **Blocking:** Using shields to reduce incoming damage

==== Offensive Tactics ====
  * **Equipment:** Using the right weapons for the situation
  * **Positioning:** Controlling where the fight takes place
  * **Timing:** Knowing when to engage and when to wait
  * **Resource Management:** Using consumables effectively

==== Special Combat Situations ====
  * **Multiple Enemies:** Fighting more than one enemy at a time
  * **Boss Fights:** Special mechanics for major enemies
  * **Traps:** Dealing with environmental hazards during combat
  * **Crowd Control:** Managing groups of weaker enemies

==== Related ====
  * [[rpd:weapons|Weapons]] - Equipment for combat
  * [[rpd:armor|Armor]] - Defensive equipment
  * [[rpd:enemies|Enemies]] - Foes in the dungeon
  * [[rpd:bosses|Boss Enemies]] - Major combat encounters
  * [[rpd:buffs|Buffs and Debuffs]] - Temporary combat modifiers
  * [[rpd:accuracy|Accuracy]] - Accuracy mechanics

{{tag> rpd combat mechanics}}
