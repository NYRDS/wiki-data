====== Charm Buff ======

{{ rpd:images:buff_Charm.png|Charm Buff Icon }}

**Charm** is a status effect in Remixed Pixel Dungeon that temporarily turns an enemy into an ally.

==== Description ====
When a creature is affected by the Charm status effect, it becomes temporarily allied with the hero and will fight against other hostile creatures instead of attacking the hero. The effect wears off after a duration determined by the caster's level.

==== Effects ====
  * **Ally Conversion:** Charmed enemies become temporary allies
  * **Duration:** Calculated as sqrt(caster's skill level * caster:lvl()) + 5 turns
  * **Combat Behavior:** Charmed enemies will attack other hostile creatures
  * **Targeting:** Will not attack the hero who cast the charm

==== Application ====
The Charm effect can be applied through:
  * [[rpd:charm_spell|Charm Spell]]
  * [[rpd:succubus_mob|Succubus]] - Special attack that applies charm for 2-5 turns
  * [[rpd:affection_glyph|Affection Glyph]] - Armor glyph that applies charm to attackers
  * [[rpd:sungrass_plant|Sungrass]] - Plant that applies charm for 10-15 turns
  * [[rpd:moongrace_plant|Moongrace]] - Plant that applies charm for 10-15 turns
  * Dried Rose curse effects

==== Strategy ====
  * Use to turn powerful enemies against each other
  * Particularly effective in groups of enemies where charmed foes will attack others
  * Consider the positioning of charmed enemies as they may block passages
  * Timing is important as the duration depends on the hero's level
  * Be careful that charmed enemies don't block your escape routes

==== Mechanics ====
  * Charmed enemies are pacified (they become passive and don't attack)
  * The effect automatically ends when the duration expires
  * Charmed creatures have a heart effect around them
  * **Pacification**: Charmed characters are unable to engage in combat
  * **Immunity**: Some enemies (like YogsEye) are immune to charm effects
  * **Special interactions**: Affected characters with the Dried Rose OneWayLoveBuff are immune to charm
  * Some creatures (like Yog's organs) and undead are immune to charm

==== Counters ====
  * The charm effect will end when the duration expires
  * Charm does not stack with other conflicting status effects like Amok
  * Some creatures may be immune to charm effects (undead, Yog's organs, etc.)

==== Sources of Charm ====
  * **Succubus**: Uses charm attack on enemies
  * **Affection Glyph**: Armor glyph that applies charm to attackers
  * **Charm Spell**: Player-castable spell that applies charm to target
  * **Sungrass & Moongrace**: Plants that can charm characters when consumed
  * **Spider Queen**: Drops Spider Charm artifact which can charm
  * **Affection Enchantment**: Weapon enchantment that causes charm on hit

==== Affected by Charm ====
  * Most enemies can be charmed
  * Some enemies like YogsEye, EnslavedSoul, and others have immunity to charm
  * Charmed enemies will not attack the source of charm

==== Code References ====
  * **Java Implementation**: [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/actors/buffs/Charm.java|Charm.java]]
  * **Succubus**: [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/actors/mobs/Succubus.java|Succubus.java]] - Uses charm in attack
  * **Affection Glyph**: [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/items/armor/glyphs/Affection.java|Affection.java]]
  * **Charm Spell**: [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/assets/scripts/spells/Charm.lua|Charm.lua]]
  * **Plant Effects**: [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/plants/Sungrass.java|Sungrass.java]], [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/watabou/pixeldungeon/plants/Moongrace.java|Moongrace.java]]
  * **String Resources**: [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/res/values/strings_all.xml#L522-L523|Charm_Name, Charm_Info]]

==== Related ====
  * [[rpd:spells|Spells]]
  * [[rpd:charm_spell|Charm Spell]]
  * [[rpd:buffs|Buffs]]
  * [[rpd:succubus_mob|Succubus]]
  * [[rpd:affection_glyph|Affection Glyph]]

{{tag> rpd buffs status_effect charm }}