====== Shadow Lord ======

{{ rpd:images:shadowlord_sprite.png|Shadow Lord }}

Shadow Lord is a powerful boss enemy found in the Halls area of the dungeon. He represents one of the most challenging encounters before the final boss, Yog-Dzewa.

==== Description ====
The Shadow Lord is a powerful entity made of pure evil and impenetrable darkness. Many believe that he is the Old God himself, considering how powerful he is. While others assume that he is but a guardian of the Old God's chambers. This creature combines physical and magical attacks with shadow-based abilities that make it particularly dangerous.

==== Stats ====
  * **HP:** 260
  * **Attack Skill:** 30
  * **Defense Skill:** 40
  * **Damage:** 30-40
  * **Defense:** 40
  * **Exp for Kill:** 60
  * **Walking Type:** Absolute (moves through walls/obstacles)

==== Combat ====
  * **Health:** 260 HP
  * **Attack Pattern:** Can attack enemies within 4 tiles distance if line of sight exists
  * **Abilities:**
    * Takes damage when standing on Foliage (damage over time)
    * Heals in Darkness (recovers (ht() - hp()) / 4 when standing in darkness)
    * Has a cooldown ability that triggers after taking damage from a source other than itself
    * Becomes Fleeing when damaged, then teleports away and changes the level layout

==== Special Abilities ====
  * **Level Twisting:** After taking damage, the Shadow Lord flees and completely restructures the level into a maze
  * **Summoning:** After fleeing, will spawn either 4 Wraiths (70% chance) or a Shadow (30% chance)
  * **Crystal Spawn:** After fleeing, creates a crystal on a pedestal that spawns additional enemies
  * **Darkness Healing:** Regenerates health when standing in Darkness blobs
  * **Foliage Weakness:** Takes damage when standing on Foliage

==== Special Mechanics ====
  * **Level Transformation:** The Shadow Lord can completely reconstruct the level design, creating a maze layout with 6x6 room steps
  * **Darkness Immunity:** Gains healing effects when surrounded by darkness
  * **Fleeing AI:** When damaged, switches to Fleeing state, teleports to safety, then becomes Wandering
  * **Cooldown System:** Has a 10-turn cooldown between level twisting abilities

==== Location ====
  * Found in the Shadow Lord Level (Halls area)
  * Appears after entering the arena section of the level
  * Level has a special layout with pedestals for crystal spawning

==== Preparation ====
  * **Equipment:** Ranged weapons to avoid melee engagement when Shadow Lord flees
  * **Consumables:** Healing items to sustain through extended battle
  * **Strategy:** Plan for environmental changes and summoned enemies
  * **Light Sources:** Items that can remove darkness to reduce healing

==== Tactics ====
  * Deal with summoned minions while focusing on the boss
  * Attack quickly when possible to prevent the level transformation ability
  * Use area attacks to handle multiple summoned creatures
  * Avoid forcing Shadow Lord into Darkness for healing
  * Exploit Foliage mechanics if possible to damage Shadow Lord
  * Be prepared for sudden level layout changes

==== Rewards ====
  * Badge: ''SHADOW_LORD_SLAIN''
  * Drops: [[rpd:scroll_of_weapon_upgrade_item|Scroll of Weapon Upgrade]]
  * Access to deeper areas of the dungeon

==== Technical Details ====
  * **Class:** ''com.nyrds.pixeldungeon.mobs.common.ShadowLord''
  * **Base Class:** Extends ''Boss'' and implements ''IZapper''
  * **Special Behavior:** Uses ''Fleeing'' AI state after taking damage, then teleports away using ''CharUtils.blinkAway''
  * **Level Mechanics:** Completely rebuilds level with ''LevelTools.makeEmptyLevel'' and ''buildShadowLordMaze''
  * **Crystal System:** Spawns special crystals that create additional enemies and deploy darkness

==== Related ====
  * [[rpd:bosses|Boss Enemies]] - Other major dungeon challenges
  * [[rpd:halls|Halls]] - The area where Shadow Lord is found
  * [[rpd:enemies|Enemies]] - Other creatures in the dungeon
  * [[rpd:combat|Combat]] - General combat mechanics
  * [[rpd:demons|Demons]] - Related entities in the dungeon
  * [[rpd:shadow_mob|Shadow]] - Creatures summoned by Shadow Lord
  * [[rpd:wraith_mob|Wraith]] - Creatures summoned by Shadow Lord
  * [[rpd:crystal_mob|Crystal]] - Crystal summoned by Shadow Lord
  * [[rpd:darkness|Darkness]] - Environmental effect used by Shadow Lord

==== Source Code ====
  * [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/nyrds/pixeldungeon/mobs/common/ShadowLord.java|ShadowLord.java]]
  * [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/nyrds/pixeldungeon/levels/ShadowLordLevel.java|ShadowLordLevel.java]]
  * [[https://github.com/NYRDS/remixed-dungeon/blob/master/RemixedDungeon/src/main/java/com/nyrds/pixeldungeon/levels/LevelTools.java|LevelTools.java]]

==== Notes ====
The Shadow Lord is an extremely powerful boss, potentially representing the Old God or one of its guardians. He presents one of the greatest challenges in the dungeon. The boss has unique mechanics involving arena restructuring and environmental manipulation.